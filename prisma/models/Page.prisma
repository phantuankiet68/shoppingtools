enum PageStatus {
  DRAFT
  PUBLISHED
  ARCHIVED
}

model Page {
  id           String     @id @default(cuid())
  siteId       String     @map("site_id")
  title        String
  slug         String
  path         String
  status       PageStatus @default(DRAFT)
  publishedAt  DateTime?  @map("published_at")
  blocks       Json?
  seoTitle     String?    @map("seo_title")
  seoDesc      String?    @map("seo_desc")
  sortOrder    Int        @default(0) @map("sort_order")
  createdAt    DateTime   @default(now()) @map("created_at")
  updatedAt    DateTime   @updatedAt @map("updated_at")
  deletedAt    DateTime?  @map("deleted_at")
  site         Site       @relation(fields: [siteId], references: [id], onDelete: Cascade)
  @@unique([siteId, slug])
  @@unique([siteId, path])
  @@index([siteId])
  @@index([siteId, status])
  @@index([siteId, publishedAt])
  @@index([siteId, sortOrder])
  @@map("pages")
}
