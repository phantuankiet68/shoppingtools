enum SiteStatus {
  DRAFT
  ACTIVE
  SUSPENDED
}

model Site {
  id             String     @id @default(cuid())
  name           String
  domain         String     @unique
  ownerUserId    String     @map("owner_user_id")
  status         SiteStatus @default(DRAFT)
  isPublic       Boolean    @default(false) @map("is_public")
  publishedAt    DateTime?  @map("published_at")
  themeConfig    Json?      @map("theme_config")
  seoTitleDefault String?   @map("seo_title_default")
  seoDescDefault  String?   @map("seo_desc_default")
  createdAt      DateTime   @default(now()) @map("created_at")
  updatedAt      DateTime   @updatedAt @map("updated_at")
  deletedAt      DateTime?  @map("deleted_at")
  owner          User       @relation(fields: [ownerUserId], references: [id], onDelete: Restrict)
  @@index([ownerUserId])
  @@index([status])
  @@index([isPublic])
  @@index([publishedAt])
  @@map("sites")
}
